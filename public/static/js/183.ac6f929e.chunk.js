"use strict";(self.webpackChunkecommerce_client=self.webpackChunkecommerce_client||[]).push([[183],{5924:function(e,n,r){var t,o,i,a,c,s,d,l,p=r(168),u=r(955),f=r(6030),x=r(184),h=function(e){var n=e.checkoutButtonHandler,r=e.buttonTitle,t=e.buttonVisible,o=(0,f.v9)((function(e){return e.cart})).cart;return(0,x.jsxs)(m,{children:[(0,x.jsx)(v,{children:"Price Details"}),(0,x.jsxs)(b,{children:[(0,x.jsxs)(g,{children:[(0,x.jsxs)(y,{children:["Price (",o.items.length," Items)"]}),(0,x.jsxs)(Z,{children:["\u20b9 ",o.totalPrice]})]}),(0,x.jsxs)(g,{children:[(0,x.jsx)(y,{children:"Delivery Charges"}),(0,x.jsx)(Z,{children:o.deliveryPrice?"\u20b9 ".concat(o.deliveryPrice):"Free"})]}),(0,x.jsx)(P,{children:(0,x.jsxs)(g,{children:[(0,x.jsx)(y,{children:"Total Amount"}),(0,x.jsxs)(Z,{children:["\u20b9 ",o.totalPrice+o.deliveryPrice]})]})}),t&&(0,x.jsx)(w,{onClick:n,children:r})]})]})},m=u.ZP.div(t||(t=(0,p.Z)(["\n  background: #fff;\n  box-shadow: rgb(0 0 0 / 20%) 0px 1px 2px 0px;\n"]))),v=u.ZP.h1(o||(o=(0,p.Z)(["\n  padding: 13px 24px;\n  font-size: 16px;\n  text-transform: uppercase;\n  color: #878787;\n  border-bottom: 1px solid #f0f0f0;\n"]))),b=u.ZP.div(i||(i=(0,p.Z)(["\n  padding: 0 24px;\n"]))),g=u.ZP.div(a||(a=(0,p.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 20px 0;\n  align-items: flex-start;\n"]))),y=u.ZP.p(c||(c=(0,p.Z)([""]))),Z=u.ZP.p(s||(s=(0,p.Z)([""]))),P=u.ZP.div(d||(d=(0,p.Z)(["\n  font-size: 20px;\n  font-weight: 700;\n  margin: 30px 0;\n  color: #212121;\n  border-top: 1px dashed #e0e0e0;\n  border-bottom: 1px dashed #e0e0e0;\n"]))),w=u.ZP.button(l||(l=(0,p.Z)(["\n  display: inline-block;\n  background-color: teal;\n  color: white;\n  border: 1px solid transparent;\n  text-transform: uppercase;\n  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 20%);\n  padding: 16px 30px;\n  font-size: 16px;\n  font-weight: 500;\n  border-radius: 2px;\n  margin-bottom: 20px;\n  transition: all 0.3s;\n  cursor: pointer;\n  &:hover {\n    background-color: white;\n    color: teal;\n    border: 1px solid teal;\n  }\n"])));h.defaultProps={buttonVisible:!0},n.Z=h},5908:function(e,n,r){r.d(n,{Z:function(){return y}});var t=r(168),o=r(955),i=r(2791),a=r(2007),c=r.n(a);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},s.apply(this,arguments)}function d(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,i.forwardRef)((function(e,n){var r=e.color,t=void 0===r?"currentColor":r,o=e.size,a=void 0===o?24:o,c=d(e,["color","size"]);return i.createElement("svg",s({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),i.createElement("circle",{cx:"12",cy:"12",r:"10"}))}));l.propTypes={color:c().string,size:c().oneOfType([c().string,c().number])},l.displayName="Circle";var p,u,f,x=l,h=r(184),m=function(e){var n=e.id,r=e.name,t=e.value,o=e.selected,i=e.radioBtnChangeHandler;return(0,h.jsxs)("div",{children:[(0,h.jsx)(g,{id:n,name:r,checked:o,onChange:function(e){return i(n,r,t,e)}}),(0,h.jsx)(v,{htmlFor:n,children:(0,h.jsx)(b,{})})]})},v=o.ZP.label(p||(p=(0,t.Z)(["\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  border: 2px solid #424553;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  &:hover {\n    font-weight: 500;\n    color: teal;\n  }\n"]))),b=(0,o.ZP)(x)(u||(u=(0,t.Z)(["\n  width: 12px;\n  height: 12px;\n  fill: white;\n  stroke: none;\n"]))),g=o.ZP.input.attrs((function(){return{type:"radio"}}))(f||(f=(0,t.Z)(["\n  display: none;\n  &:checked + label {\n    border: 2px solid teal;\n  }\n  &:checked + label "," {\n    fill: teal;\n  }\n"])),b);m.defaultProps={selected:!1,radioBtnChangeHandler:function(){}};var y=m},1183:function(e,n,r){r.r(n),r.d(n,{default:function(){return A}});var t,o,i,a,c,s,d=r(168),l=r(5861),p=r(885),u=r(7757),f=r.n(u),x=r(2791),h=r(955),m=r(6030),v=r(6871),b=r(6140),g=r(5924),y=r(5908),Z=r(9731),P=r(2708),w=r(5783),k={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_RAZORPAY_KEY_ID,j=r(8409),O=r(184),S=[{id:1,name:"Pay On Delivery",type:"cash"},{id:2,name:"Credit / Debit / ATM Card",type:"digital"}],_=h.ZP.div(t||(t=(0,d.Z)(["\n  padding: 50px 20px;\n  display: flex;\n  gap: 20px;\n  background: #f1f3f6;\n  align-items: flex-start;\n  min-height: 100vh;\n  @media "," {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  @media "," {\n    flex-direction: column;\n    align-items: stretch;\n  }\n"])),j.Z.tablet,j.Z.mobileM),z=h.ZP.div(o||(o=(0,d.Z)(["\n  flex: 3;\n  background: #fff;\n  box-shadow: rgb(0 0 0 / 20%) 0px 1px 2px 0px;\n  @media "," {\n    flex: 0;\n  }\n  @media "," {\n    flex: 0;\n  }\n"])),j.Z.tablet,j.Z.mobileM),C=h.ZP.h1(i||(i=(0,d.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  padding: 15px 24px;\n  border-bottom: 1px solid #efefef;\n"]))),T=h.ZP.div(a||(a=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  border: 1px solid #f0f0f0;\n  padding: 16px 25px;\n  cursor: pointer;\n"]))),I=h.ZP.p(c||(c=(0,d.Z)(["\n  font-size: 14px;\n  font-weight: 500;\n"]))),E=h.ZP.div(s||(s=(0,d.Z)(["\n  flex: 1;\n  position: sticky;\n  top: 80px;\n"]))),A=function(){var e=(0,x.useState)(null),n=(0,p.Z)(e,2),r=n[0],t=n[1],o=(0,x.useState)(!1),i=(0,p.Z)(o,2),a=i[0],c=i[1],s=(0,m.v9)((function(e){return e.address})).selectedAddress,d=(0,m.v9)((function(e){return e.auth})).user,u=(0,v.s0)(),h=(0,m.I0)();(0,x.useEffect)((function(){s.id||u("/checkout/cart")}),[u,s.id]);var j=function(e){return new Promise((function(n){var r=document.createElement("script");r.src=e,r.onload=function(){n(!0)},r.onerror=function(){n(!1)},document.body.appendChild(r)}))},A=function(){var e=(0,l.Z)(f().mark((function e(){var n,r,t,o,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("https://checkout.razorpay.com/v1/checkout.js");case 3:if(e.sent){e.next=7;break}return b.ZP.error("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 7:return e.next=9,Z.Z.post("/api/shop/order/razorpay");case 9:if(n=e.sent){e.next=13;break}return b.ZP.error("Server error. Are you online?"),e.abrupt("return");case 13:r=n.data,t=r.amount,o=r.id,i=r.currency,a={key:k,amount:t.toString(),currency:i,name:"Fashionista",description:"Thank you for your order",image:"".concat("","/logo512.png"),order_id:o,handler:function(e){return(0,l.Z)(f().mark((function n(){var r,t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={orderId:o,razorpayPaymentId:e.razorpay_payment_id,razorpayOrderId:e.razorpay_order_id,razorpaySignature:e.razorpay_signature},n.next=4,Z.Z.post("/api/shop/order/verify-payment",r);case 4:return c(!0),n.next=7,Z.Z.post("/api/shop/order",{addressId:s.id,razorpayOrderId:o});case 7:t=n.sent,h((0,w.LL)()),u("/checkout/payment-success",{replace:!0,state:{orderId:t.data.orderId}}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),b.ZP.error("Something went wrong!");case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},prefill:{name:"".concat(d.firstName," ").concat(d.lastName),email:d.email,contact:s.phoneNumber},notes:{address:"Fashionista ecommerce store"},theme:{color:"#008080"}},new window.Razorpay(a).open(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),b.ZP.error("Something went wrong!");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,l.Z)(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cash"!==r.type||!s.id){e.next=15;break}return e.prev=1,c(!0),e.next=5,Z.Z.post("/api/shop/order",{addressId:s.id});case 5:n=e.sent,h((0,w.LL)()),setTimeout((function(){u("/checkout/payment-success",{replace:!0,state:{orderId:n.data.orderId}})}),[500]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),b.ZP.error("Something went wrong!");case 13:e.next=16;break;case 15:"digital"===r.type&&s.id&&A();case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return a?(0,O.jsx)(P.Z,{}):(0,O.jsxs)(_,{children:[(0,O.jsxs)(z,{children:[(0,O.jsx)(C,{children:"Select Payment Method"}),S.map((function(e){return(0,O.jsxs)(T,{id:e.id,onClick:function(){return n=e.id,void t(S.find((function(e){return e.id===n})));var n},children:[(0,O.jsx)(y.Z,{name:"payment",selected:(null===r||void 0===r?void 0:r.id)===e.id,id:e.id,value:e.id}),(0,O.jsx)(I,{children:e.name})]},e.id)}))]}),(0,O.jsx)(E,{children:(0,O.jsx)(g.Z,{checkoutButtonHandler:D,buttonTitle:"Place Order",buttonVisible:!!r})})]})}}}]);
//# sourceMappingURL=183.ac6f929e.chunk.js.map